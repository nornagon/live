<!doctype html>
<html>
  <head>
    <link rel="stylesheet" href="lib/codemirror.css">
    <script src="lib/codemirror.js"></script>
    <script src="mode/htmlembedded/htmlembedded.js"></script>
    <script src="mode/xml/xml.js"></script>
    <script src="mode/css/css.js"></script>
    <script src="mode/javascript/javascript.js"></script>
    <style>.CodeMirror { border: 1px solid gray; min-height: 85em; height: auto; }
           .CodeMirror-scroll { overflow-y: hidden; overflow-x: auto; width: 100% }</style>
  </head>
    <form><textarea id="code" name="code">
<script>
def bpm_targets = "hello"

println "target: "+bpm_targets

try {
    
   ..
}  catch (Exception e) {
    logService.error(execution, e.getMessage(), e)
    bpm_error = true
    bpm_error_message = e.getMessage()
}
</script>
        </textarea></form>
<script>
 CodeMirror.defineMIME("application/x-groovy", { name: "htmlembedded", scriptingModeSpec:"text/x-groovy"});
 var editor = CodeMirror.fromTextArea(document.getElementById("code"), {
                                    lineNumbers: true,
                                    mode: "application/x-groovy",
                                    smartIndent: false,
                                    lineWrapping: true,
                                    matchBrackets: true,
                                    autoCloseBrackets: true,
                                    autoCloseTags: true,
                                    readOnly: "nocursor",
                                    cursorHeight: 1.3,                           
                                    viewportMargin: Infinity
                                  });
</script>
